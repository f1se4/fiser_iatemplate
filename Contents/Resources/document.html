<!doctype html>
<html>
<head>
	<meta charset="UTF-8">
    <link rel="stylesheet" media="all" href="normalize.css">
    <link rel="stylesheet" media="all" href="core.css">
    <link rel="stylesheet" media="all" href="style.css">
    <meta name="viewport" content="initial-scale=1, viewport-fit=cover">

    <!-- Flow chart support -->
    <script type="text/javascript" src="raphael/raphael.min.js"></script>
    <script type="text/javascript" src="flowchart/flowchart.min.js"></script>

    <!-- sequence chart support -->
    <script type="text/javascript" src="webfontloader/webfontloader.js"></script>
    <script type="text/javascript" src="snap.svg/snap.svg-min.js"></script>
    <script type="text/javascript" src="underscore/underscore-min.js"></script>
    <script type="text/javascript" src="sequencechart/sequence-diagram-min.js"></script>
    <link rel="stylesheet" media="all" href="sequencechart/sequence-diagram-min.css">

    <!--Custom print  -->
    <script type="text/javascript" src="https://printjs-4de6.kxcdn.com/print.min.js"></script>
    <link rel="stylesheet" media="all" href="https://printjs-4de6.kxcdn.com/print.min.css">


    <link href="prism/prism.css" rel="stylesheet" />


	<script>
		document.addEventListener("DOMContentLoaded", function(){
			document.body.addEventListener('ia-writer-change', function(event) {
                var elements = document.getElementsByClassName('flow')
                for (var i = 0, l = elements.length; i < l; i++) {
                    // only get the first one in the array, because the previous one has been removed or replaced
                    var element = elements[0]
                    var code = element.innerText
                    var chart = flowchart.parse(code)

                    // Create a new div for displaying chart
                    var div_new = document.createElement('div')
                    var div_new_id = 'flowchart_' + i
                    div_new.setAttribute('id', div_new_id)
                    element.parentNode.replaceChild(div_new, element)
                    chart.drawSVG(div_new_id,{
                        'maxWidth': 10,//ensures the flowcharts fits within a certian width
                        //'scale':0.8
                    })
                    }
			});

		});
	</script>

	<!-- Mermaid add-on -->
	<script src="mermaid/mermaid.js"></script>
	<script>mermaid.initialize({startOnLoad:true});</script>
    
</head>
<body data-document>&nbsp;
    <footer>
        <script src="prism/prism.js"></script>
    </footer>
</body>
</html>
